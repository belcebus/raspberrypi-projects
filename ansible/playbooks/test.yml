---
- name: test
  hosts: 127.0.0.1
  connection: local
  vars:
    new_user_pass: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34633763616464373035656662366330646166323937666461383831616332366330616162613966
            3338643265346339646331613665643533663763626561370a326466326234363430353566363333
            65626164623362633333323839663330363830313635393165336533333437346266343064643561
            6233323532353034660a393961313238633537643939623039383461613463613365373534633361
            30353330623063643362376432373863643163653161336536393134613934366566333233333530
            35393331643637316666366537663238306639383865373536653162303462623637336235396363
            37356234323530363238326239363538306235653839306166386537383033306365613566353238
            30666137353536366339396638396331646637383131663539306261343733393433663465343463
            35333535653436373133363138393430333430383536383665646433643064313264
  tasks:
    - name: test command return
      ansible.builtin.command:
        argv:
          - "ls"
#          - "-a"
#          - "-p"
#          - "{{new_user_pass}}"
      register: return_command
      ignore_errors: true

    - name: conditional
      debug: 
        var: return_command.failed
      when: return_command.failed == 'true'        
    


